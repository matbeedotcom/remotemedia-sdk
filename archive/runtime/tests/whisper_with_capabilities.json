{
  "version": "v1",
  "metadata": {
    "name": "Whisper_With_Capabilities",
    "description": "Whisper pipeline with explicit capability declarations"
  },
  "nodes": [
    {
      "id": "audio-input",
      "node_type": "AudioInput",
      "params": {},
      "is_streaming": true
    },
    {
      "id": "resample",
      "node_type": "AudioTransform",
      "params": {
        "output_sample_rate": 16000,
        "output_channels": 1
      }
    },
    {
      "id": "whisper",
      "node_type": "WhisperNode",
      "params": {
        "model": "base.en",
        "n_threads": 4
      },
      "execution": {
        "placement": "remote",
        "reason": "requires_native_libs_and_threads"
      },
      "capabilities": {
        "memory_gb": 0.5,
        "cpu": {
          "cores": 4
        }
      }
    },
    {
      "id": "output",
      "node_type": "TextOutput",
      "params": {}
    }
  ],
  "connections": [
    {
      "from": "audio-input",
      "to": "resample"
    },
    {
      "from": "resample",
      "to": "whisper"
    },
    {
      "from": "whisper",
      "to": "output"
    }
  ]
}
